<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DT Studio - Panel de Administración</title>
    <link rel="stylesheet" href="admin.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="login.js"></script>
</head>
<body>
    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <img src="logo/LOGO DT STUDIO.png" alt="DT Studio" class="sidebar-logo">
            <h2>DT Studio</h2>
        </div>
        <nav class="sidebar-nav">
            <ul class="nav-list">
                <li class="nav-item active">
                    <a href="#dashboard" class="nav-link" onclick="showSection('dashboard')">
                        <i class="fas fa-tachometer-alt"></i>
                        <span>Dashboard</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#products" class="nav-link" onclick="showSection('products')">
                        <i class="fas fa-box"></i>
                        <span>Productos</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#customers" class="nav-link" onclick="showSection('customers')">
                        <i class="fas fa-users"></i>
                        <span>Clientes</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#quotations" class="nav-link" onclick="showSection('quotations')">
                        <i class="fas fa-file-invoice"></i>
                        <span>Cotizaciones</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#orders" class="nav-link" onclick="showSection('orders')">
                        <i class="fas fa-shopping-cart"></i>
                        <span>Pedidos</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#inventory" class="nav-link" onclick="showSection('inventory')">
                        <i class="fas fa-warehouse"></i>
                        <span>Inventario</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#reports" class="nav-link" onclick="showSection('reports')">
                        <i class="fas fa-chart-bar"></i>
                        <span>Reportes</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#settings" class="nav-link" onclick="showSection('settings')">
                        <i class="fas fa-cog"></i>
                        <span>Configuración</span>
                    </a>
                </li>
            </ul>
        </nav>
        <div class="sidebar-footer">
            <div class="user-info">
                <div class="user-avatar">
                    <i class="fas fa-user"></i>
                </div>
                <div class="user-details">
                    <span class="user-name">Administrador</span>
                    <span class="user-role">Admin</span>
                </div>
            </div>
            <button class="btn-logout" onclick="logout()">
                <i class="fas fa-sign-out-alt"></i>
            </button>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Header -->
        <header class="main-header">
            <div class="header-left">
                <button class="btn-menu" onclick="toggleSidebar()">
                    <i class="fas fa-bars"></i>
                </button>
                <h1 class="page-title">Dashboard</h1>
            </div>
            <div class="header-right">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Buscar...">
                </div>
                <div class="notifications">
                    <button class="btn-notification">
                        <i class="fas fa-bell"></i>
                        <span class="notification-badge">3</span>
                    </button>
                </div>
                <div class="user-menu">
                    <button class="btn-user">
                        <i class="fas fa-user-circle"></i>
                    </button>
                </div>
            </div>
        </header>

        <!-- Dashboard Section -->
        <section id="dashboard" class="content-section active">
            <div class="dashboard-grid">
                <!-- Stats Cards -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-shopping-cart"></i>
                        </div>
                        <div class="stat-content">
                            <h3>Ventas Hoy</h3>
                            <p class="stat-number">$12,450</p>
                            <span class="stat-change positive">+12%</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-file-invoice"></i>
                        </div>
                        <div class="stat-content">
                            <h3>Cotizaciones</h3>
                            <p class="stat-number">24</p>
                            <span class="stat-change positive">+8%</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-content">
                            <h3>Clientes</h3>
                            <p class="stat-number">156</p>
                            <span class="stat-change positive">+5%</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-box"></i>
                        </div>
                        <div class="stat-content">
                            <h3>Productos</h3>
                            <p class="stat-number">89</p>
                            <span class="stat-change neutral">0%</span>
                        </div>
                    </div>
                </div>

                <!-- Charts -->
                <div class="charts-grid">
                    <div class="chart-card">
                        <h3>Ventas por Mes</h3>
                        <canvas id="salesChart"></canvas>
                    </div>
                    <div class="chart-card">
                        <h3>Productos Más Vendidos</h3>
                        <canvas id="productsChart"></canvas>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="activity-card">
                    <h3>Actividad Reciente</h3>
                    <div class="activity-list">
                        <div class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-plus"></i>
                            </div>
                            <div class="activity-content">
                                <p>Nuevo producto agregado: "Camisetas Personalizadas"</p>
                                <span class="activity-time">Hace 2 horas</span>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-file-invoice"></i>
                            </div>
                            <div class="activity-content">
                                <p>Cotización #QT-001 aprobada por Cliente ABC</p>
                                <span class="activity-time">Hace 4 horas</span>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-shopping-cart"></i>
                            </div>
                            <div class="activity-content">
                                <p>Nuevo pedido #ORD-001 por $2,500</p>
                                <span class="activity-time">Hace 6 horas</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Products Section -->
        <section id="products" class="content-section">
            <div class="section-header">
                <h2>Gestión de Productos</h2>
                <button class="btn-primary" onclick="showProductModal()">
                    <i class="fas fa-plus"></i> Nuevo Producto
                </button>
            </div>
            <div class="products-table">
                <table>
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Nombre</th>
                            <th>Categoría</th>
                            <th>Precio</th>
                            <th>Stock</th>
                            <th>Estado</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="productsTableBody">
                        <!-- Los productos se cargarán dinámicamente -->
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Customers Section -->
        <section id="customers" class="content-section">
            <div class="section-header">
                <h2>Gestión de Clientes</h2>
                <button class="btn-primary" onclick="showCustomerModal()">
                    <i class="fas fa-plus"></i> Nuevo Cliente
                </button>
            </div>
            <div class="customers-table">
                <table>
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Nombre</th>
                            <th>Email</th>
                            <th>Teléfono</th>
                            <th>Empresa</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="customersTableBody">
                        <!-- Los clientes se cargarán dinámicamente -->
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Quotations Section -->
        <section id="quotations" class="content-section">
            <div class="section-header">
                <h2>Gestión de Cotizaciones</h2>
                <button class="btn-primary" onclick="showQuotationModal()">
                    <i class="fas fa-plus"></i> Nueva Cotización
                </button>
            </div>
            <div class="quotations-table">
                <table>
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Cliente</th>
                            <th>Total</th>
                            <th>Estado</th>
                            <th>Fecha</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="quotationsTableBody">
                        <!-- Las cotizaciones se cargarán dinámicamente -->
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Orders Section -->
        <section id="orders" class="content-section">
            <div class="section-header">
                <h2>Gestión de Pedidos</h2>
                <button class="btn-primary" onclick="showOrderModal()">
                    <i class="fas fa-plus"></i> Nuevo Pedido
                </button>
            </div>
            <div class="orders-table">
                <table>
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Cliente</th>
                            <th>Total</th>
                            <th>Estado</th>
                            <th>Fecha</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="ordersTableBody">
                        <!-- Los pedidos se cargarán dinámicamente -->
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Inventory Section -->
        <section id="inventory" class="content-section">
            <div class="section-header">
                <h2>Gestión de Inventario</h2>
                <button class="btn-primary" onclick="showInventoryModal()">
                    <i class="fas fa-plus"></i> Ajuste de Stock
                </button>
            </div>
            <div class="inventory-table">
                <table>
                    <thead>
                        <tr>
                            <th>Producto</th>
                            <th>Variante</th>
                            <th>Stock Actual</th>
                            <th>Stock Mínimo</th>
                            <th>Estado</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="inventoryTableBody">
                        <!-- El inventario se cargará dinámicamente -->
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Reports Section -->
        <section id="reports" class="content-section">
            <div class="section-header">
                <h2>Reportes y Analytics</h2>
                <div class="report-actions">
                    <button class="btn-secondary" onclick="generateReport('sales')">
                        <i class="fas fa-download"></i> Reporte de Ventas
                    </button>
                    <button class="btn-secondary" onclick="generateReport('inventory')">
                        <i class="fas fa-download"></i> Reporte de Inventario
                    </button>
                </div>
            </div>
            <div class="reports-grid">
                <div class="report-card">
                    <h3>Ventas por Período</h3>
                    <canvas id="salesReportChart"></canvas>
                </div>
                <div class="report-card">
                    <h3>Top Clientes</h3>
                    <canvas id="clientsReportChart"></canvas>
                </div>
            </div>
        </section>

        <!-- Settings Section -->
        <section id="settings" class="content-section">
            <div class="section-header">
                <h2>Configuración del Sistema</h2>
            </div>
            <div class="settings-grid">
                <div class="settings-card">
                    <h3>Configuración General</h3>
                    <form class="settings-form">
                        <div class="form-group">
                            <label for="company-name">Nombre de la Empresa:</label>
                            <input type="text" id="company-name" class="form-input" value="DT Studio">
                        </div>
                        <div class="form-group">
                            <label for="company-email">Email de Contacto:</label>
                            <input type="email" id="company-email" class="form-input" value="info@dtstudio.com">
                        </div>
                        <div class="form-group">
                            <label for="company-phone">Teléfono:</label>
                            <input type="tel" id="company-phone" class="form-input" value="+52 (55) 1234-5678">
                        </div>
                        <button type="submit" class="btn-primary">Guardar Cambios</button>
                    </form>
                </div>
                <div class="settings-card">
                    <h3>Configuración de Notificaciones</h3>
                    <form class="settings-form">
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" checked>
                                <span class="checkmark"></span>
                                Notificaciones por email
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" checked>
                                <span class="checkmark"></span>
                                Notificaciones de stock bajo
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox">
                                <span class="checkmark"></span>
                                Notificaciones de nuevas cotizaciones
                            </label>
                        </div>
                        <button type="submit" class="btn-primary">Guardar Cambios</button>
                    </form>
                </div>
            </div>
        </section>
    </main>

    <!-- Modals -->
    <div id="productModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('productModal')">&times;</span>
            <h2>Nuevo Producto</h2>
            <form id="productForm">
                <!-- Información Básica del Producto -->
                <div class="form-section">
                    <h3>Información Básica</h3>
                    <div class="form-group">
                        <label for="product-name">Nombre del Producto:</label>
                        <input type="text" id="product-name" name="name" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label for="product-sku">SKU del Producto:</label>
                        <input type="text" id="product-sku" name="sku" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label for="product-category">Categoría:</label>
                        <select id="product-category" name="category_id" class="form-input" required>
                            <option value="">Seleccionar categoría</option>
                            <option value="1">Playeras</option>
                            <option value="2">Vasos</option>
                            <option value="3">Gorras</option>
                            <option value="4">Lonas</option>
                            <option value="5">Accesorios</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="product-description">Descripción:</label>
                        <textarea id="product-description" name="description" class="form-textarea" rows="3" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="product-status">Estado:</label>
                        <select id="product-status" name="status" class="form-input" required>
                            <option value="draft">Borrador</option>
                            <option value="active">Activo</option>
                            <option value="inactive">Inactivo</option>
                        </select>
                    </div>
                </div>

                <!-- SEO -->
                <div class="form-section">
                    <h3>SEO</h3>
                    <div class="form-group">
                        <label for="product-meta-title">Meta Título:</label>
                        <input type="text" id="product-meta-title" name="meta_title" class="form-input">
                    </div>
                    <div class="form-group">
                        <label for="product-meta-description">Meta Descripción:</label>
                        <textarea id="product-meta-description" name="meta_description" class="form-textarea" rows="2"></textarea>
                    </div>
                </div>

                <!-- Variante Principal -->
                <div class="form-section">
                    <h3>Variante Principal</h3>
                    <div class="form-group">
                        <label for="variant-name">Nombre de la Variante:</label>
                        <input type="text" id="variant-name" name="variant_name" class="form-input" value="Principal" required>
                    </div>
                    <div class="form-group">
                        <label for="variant-sku">SKU de la Variante:</label>
                        <input type="text" id="variant-sku" name="variant_sku" class="form-input" required>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="variant-price">Precio:</label>
                            <input type="number" id="variant-price" name="variant_price" class="form-input" step="0.01" required>
                        </div>
                        <div class="form-group">
                            <label for="variant-cost">Costo:</label>
                            <input type="number" id="variant-cost" name="variant_cost" class="form-input" step="0.01" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="variant-stock">Stock:</label>
                        <input type="number" id="variant-stock" name="variant_stock" class="form-input" min="0" required>
                    </div>
                    <div class="form-group">
                        <label for="variant-attributes">Atributos (JSON):</label>
                        <textarea id="variant-attributes" name="variant_attributes" class="form-textarea" rows="2" placeholder='{"color": "rojo", "talla": "M"}'></textarea>
                    </div>
                </div>

                <!-- Imágenes -->
                <div class="form-section">
                    <h3>Imágenes del Producto</h3>
                    <div class="form-group">
                        <label for="product-images">URLs de Imágenes (una por línea):</label>
                        <textarea id="product-images" name="product_images" class="form-textarea" rows="3" placeholder="https://ejemplo.com/imagen1.jpg&#10;https://ejemplo.com/imagen2.jpg"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="primary-image">Imagen Principal (URL):</label>
                        <input type="url" id="primary-image" name="primary_image" class="form-input" placeholder="https://ejemplo.com/imagen-principal.jpg">
                    </div>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn-secondary" onclick="closeModal('productModal')">Cancelar</button>
                    <button type="submit" class="btn-primary">Guardar Producto</button>
                </div>
            </form>
        </div>
    </div>

    <script src="admin.js"></script>
</body>
</html>
